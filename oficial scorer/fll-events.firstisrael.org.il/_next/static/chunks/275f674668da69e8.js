(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70847,54385,509739,e=>{"use strict";class t extends Error{id;constructor(e){super(),this.id=e,Object.setPrototypeOf(this,t.prototype)}}var i=e.i(687663);let r={_version:"2025-11-23",missions:[{id:"eib",clauses:[{type:"boolean",default:!1}],calculation:e=>20*!!e},{id:"m01",clauses:[{type:"enum",options:["0","1","2"],default:"0"},{type:"boolean",default:!1}],calculation:(e,t)=>{let i;return i=0+10*Number(e),t&&(i+=10),i},noEquipment:!0},{id:"m02",clauses:[{type:"enum",options:["0","1","2","3"],default:"0"}],calculation:e=>10*Number(e)},{id:"m03",clauses:[{type:"boolean",default:!1},{type:"boolean",default:!1}],calculation:(e,i)=>{if(i){if(!e)throw new t("m03-e1");return 40}return 30*!!e}},{id:"m04",clauses:[{type:"boolean",default:!1},{type:"boolean",default:!0}],calculation:(e,t)=>{let i=0;return e&&(i+=30),t&&(i+=10),i},noEquipment:!0},{id:"m05",clauses:[{type:"boolean",default:!1}],calculation:e=>30*!!e,noEquipment:!0},{id:"m06",clauses:[{type:"enum",options:["0","1","2","3"],default:"0"}],calculation:e=>10*Number(e)},{id:"m07",clauses:[{type:"boolean",default:!1}],calculation:e=>30*!!e},{id:"m08",clauses:[{type:"enum",options:["0","1","2","3"],default:"0"}],calculation:e=>10*Number(e)},{id:"m09",clauses:[{type:"boolean",default:!1},{type:"boolean",default:!1}],calculation:(e,t)=>{let i=0;return e&&(i+=20),t&&(i+=10),i},noEquipment:!0},{id:"m10",clauses:[{type:"boolean",default:!1},{type:"boolean",default:!1}],calculation:(e,t)=>{let i=0;return e&&(i+=20),t&&(i+=10),i}},{id:"m11",clauses:[{type:"boolean",default:!1},{type:"boolean",default:!1}],calculation:(e,i)=>{if(i){if(!e)throw new t("m11-e1");return 30}return 20*!!e},noEquipment:!0},{id:"m12",clauses:[{type:"boolean",default:!1},{type:"boolean",default:!1}],calculation:(e,t)=>{let i=0;return e&&(i+=20),t&&(i+=10),i},noEquipment:!0},{id:"m13",clauses:[{type:"boolean",default:!1}],calculation:e=>30*!!e,noEquipment:!0},{id:"m14",clauses:[{type:"enum",options:["none","brush","minecart","scale-pan","topsoil","ore-with-fossilized-artifact","precious-artifact","millstone"],default:"none",multiSelect:!0}],calculation:e=>{let r=(0,i.ensureArray)(e);if(r.includes("none")){if(r.length>1)throw new t("m14-e1");return 0}return 5*r.length},noEquipment:!0},{id:"m15",clauses:[{type:"enum",options:["0","1","2","3"],default:"0"}],calculation:e=>10*Number(e)},{id:"pt",clauses:[{type:"enum",options:["0","1","2","3","4","5","6"],default:"6"}],calculation:e=>{switch(Number(e)){case 0:return 0;case 1:return 10;case 2:return 15;case 3:return 25;case 4:return 35;default:return 50}}}],validators:[e=>{if((0,i.ensureArray)(e.m14[0]).includes("brush")&&!1===e.m01[1])throw new t("e1")},e=>{if((0,i.ensureArray)(e.m14[0]).includes("scale-pan")&&!1===e.m10[1])throw new t("e3")},e=>{if((0,i.ensureArray)(e.m14[0]).includes("ore-with-fossilized-artifact")&&0===Number(e.m06[0]))throw new t("e4")},e=>{if((0,i.ensureArray)(e.m14[0]).includes("millstone")&&!1===e.m07[0])throw new t("e5")},e=>{if((0,i.ensureArray)(e.m14[0]).includes("precious-artifact")&&!1===e.m04[0])throw new t("e6")}]};e.s(["scoresheet",0,r],54385),e.s([],70847);var n=e.i(857727),o=e.i(500932),s=e.i(271645),l=e.i(610399);let a=(0,s.createContext)({points:0,missions:[],missionErrors:[],validatorErrors:[],onUpdateClause:()=>console.log("No context"),resetScore:()=>console.log("No context")});function c({children:e}){let{score:i,updateScore:c,resetScore:u,loading:d}=(()=>{let e,i,n,a,c,u=(0,o.c)(7),[d,m]=(0,s.useState)(null),[p,f]=(0,s.useState)(!0);u[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(async()=>{let e=await (0,l.openDB)("scores-database",1,{upgrade(e){e.createObjectStore("scores",{keyPath:"id",autoIncrement:!1})}}),t=await e.get("scores","score");t&&t.version===r._version&&m(t),f(!1)})()},i=[],u[0]=e,u[1]=i):(e=u[0],i=u[1]),(0,s.useEffect)(e,i),u[2]===Symbol.for("react.memo_cache_sentinel")?(n=async e=>{let i,n,o,s,{points:a,errors:c}=(i=0,n=[],r.missions.forEach((r,o)=>{let s=e[o].clauses;try{i+=r.calculation(...s.map(e=>e.value))}catch(e){e instanceof t&&n.push({mission:r.id,id:e.id})}}),{points:i,errors:n}),u=(o=[],s=Object.fromEntries(e.map(e=>[e.id,e.clauses.map(e=>e.value)])),r.validators.forEach(e=>{try{e(s)}catch(e){e instanceof t&&o.push({id:e.id})}}),o),d={id:"score",version:r._version,missions:e,points:a,missionErrors:c,validatorErrors:u},p=(await (0,l.openDB)("scores-database",1)).transaction("scores","readwrite"),f=p.objectStore("scores");await f.put(d),await p.done,m(d)},u[2]=n):n=u[2];let h=n;u[3]===Symbol.for("react.memo_cache_sentinel")?(a=async()=>{let e=(await (0,l.openDB)("scores-database",1)).transaction("scores","readwrite"),t=e.objectStore("scores");await t.delete("score"),await e.done,m(null)},u[3]=a):a=u[3];let g=a;return u[4]!==p||u[5]!==d?(c={score:d,updateScore:h,resetScore:g,loading:p},u[4]=p,u[5]=d,u[6]=c):c=u[6],c})();return(0,s.useEffect)(()=>{d||i||c(r.missions.map(e=>({id:e.id,clauses:e.clauses.map(e=>({type:e.type,value:null}))})))},[d,i]),(0,n.jsx)(a.Provider,{value:{points:i?.points||0,missions:i?.missions||[],missionErrors:i?.missionErrors||[],validatorErrors:i?.validatorErrors||[],onUpdateClause:(e,t,r)=>{if(!i)return;let n=structuredClone(i.missions);n[e].clauses[t].value=r,c(n)},resetScore:u},children:e})}e.s(["MissionContext",0,a,"MissionProvider",()=>c,"useMission",0,e=>{let t,i,r,n=(0,o.c)(12),l=(0,s.useContext)(a);if(!l)throw Error("useMission must be used within a MissionProvider");let c=l.missions[e];if(n[0]!==l.missionErrors||n[1]!==c){let e;n[3]!==c?(e=e=>e.mission===c.id,n[3]=c,n[4]=e):e=n[4],t=l.missionErrors.filter(e),n[0]=l.missionErrors,n[1]=c,n[2]=t}else t=n[2];let u=t;n[5]!==l||n[6]!==e?(i=(t,i)=>{l.onUpdateClause(e,t,i)},n[5]=l,n[6]=e,n[7]=i):i=n[7];let d=i;return n[8]!==u||n[9]!==c||n[10]!==d?(r={mission:c,errors:u,updateClause:d},n[8]=u,n[9]=c,n[10]=d,n[11]=r):r=n[11],r},"useScoresheetValidator",0,()=>{let e,t=(0,o.c)(2),i=(0,s.useContext)(a);if(!i)throw Error("useMissionContext must be used within a MissionProvider");return t[0]!==i.validatorErrors?(e={errors:i.validatorErrors},t[0]=i.validatorErrors,t[1]=e):e=t[1],e}],509739)},328460,e=>{"use strict";var t=e.i(857727),i=e.i(500932),r=e.i(271645),n=e.i(866796),o=e.i(563745),s=e.i(332963),l=e.i(769120),a=e.i(772036),c=e.i(454624),u=e.i(843476);let d=(0,c.default)((0,u.jsx)("path",{d:"M12 5V3.21c0-.45-.54-.67-.85-.35l-2.8 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.32.31.86.09.86-.36V7c3.31 0 6 2.69 6 6 0 2.72-1.83 5.02-4.31 5.75-.42.12-.69.52-.69.95 0 .65.62 1.16 1.25.97C17.57 19.7 20 16.64 20 13c0-4.42-3.58-8-8-8m-6 8c0-1.34.44-2.58 1.19-3.59.3-.4.26-.95-.09-1.31-.42-.42-1.14-.38-1.5.1-1 1.34-1.6 3-1.6 4.8 0 3.64 2.43 6.7 5.75 7.67.63.19 1.25-.32 1.25-.97 0-.43-.27-.83-.69-.95C7.83 18.02 6 15.72 6 13"}),"RestartAltRounded");var m=e.i(948148),p=e.i(509739);e.s(["ScoreFloater",0,()=>{let e,c,u,f,h,g,b,x,y,S=(0,i.c)(17),v=(0,m.useTranslations)("pages.tools.scorer"),{points:j,resetScore:_}=(0,r.useContext)(p.MissionContext),R=!!j;return S[0]===Symbol.for("react.memo_cache_sentinel")?(e={p:4,position:"fixed",bottom:10,left:0,right:0,margin:"auto",width:{xs:"95%",md:"400px"},zIndex:1,bgcolor:"primary.main",borderRadius:4,height:50},S[0]=e):e=S[0],S[1]===Symbol.for("react.memo_cache_sentinel")?(c={color:"#FFF"},S[1]=c):c=S[1],S[2]!==j||S[3]!==v?(u=v("score",{points:j}),S[2]=j,S[3]=v,S[4]=u):u=S[4],S[5]!==u?(f=(0,t.jsx)(n.Typography,{sx:c,fontWeight:500,fontSize:"1.25rem",children:u}),S[5]=u,S[6]=f):f=S[6],S[7]===Symbol.for("react.memo_cache_sentinel")?(h={color:"#FFF"},S[7]=h):h=S[7],S[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)(d,{}),S[8]=g):g=S[8],S[9]!==_?(b=(0,t.jsx)(l.IconButton,{sx:h,onClick:_,children:g}),S[9]=_,S[10]=b):b=S[10],S[11]!==f||S[12]!==b?(x=(0,t.jsxs)(o.Stack,{component:s.Paper,direction:"row",alignItems:"center",justifyContent:"center",spacing:3,sx:e,children:[f,b]}),S[11]=f,S[12]=b,S[13]=x):x=S[13],S[14]!==R||S[15]!==x?(y=(0,t.jsx)(a.Slide,{direction:"up",in:R,unmountOnExit:!0,children:x}),S[14]=R,S[15]=x,S[16]=y):y=S[16],y}],328460)},769071,e=>{"use strict";var t=e.i(857727),i=e.i(500932),r=e.i(271645),n=e.i(866796),o=e.i(563745),s=e.i(332963),l=e.i(769120),a=e.i(772036),c=e.i(374173),u=e.i(210557),d=e.i(939882),m=e.i(507942),p=e.i(456105),f=e.i(799598),h=e.i(622299),g=e.i(478365),b=e.i(183012),x=e.i(698132);e.i(300502);var y=e.i(525276);let S=(e,t)=>{switch(t){case"START":case"RESUME":return{...e,isRunning:!0};case"PAUSE":return{...e,isRunning:!1};case"STOP":return{...e,isRunning:!1,timeRemaining:150};case"RESET":return{isRunning:!1,timeRemaining:150};case"TICK":{let t=e.timeRemaining-1;if(t<=0)return{...e,isRunning:!1,timeRemaining:0};return{...e,timeRemaining:t}}default:return e}};var v=e.i(509739);function j(e){return{...e,isDragging:!1}}e.s(["FieldTimer",0,()=>{let e,_,R,w,E,B,T,C,$,I,z,k,M,W,P,A,D,F,G,L,N,q,X,Y,O,U,V,K,H,Q,J,Z,ee,et,ei,er,en,eo,es,el,ea=(0,i.c)(92),[ec,eu]=(0,r.useState)(!1);ea[0]===Symbol.for("react.memo_cache_sentinel")?(e={isDragging:!1,startX:0,startY:0,offsetX:0,offsetY:0},ea[0]=e):e=ea[0];let[ed,em]=(0,r.useState)(e),ep=(0,r.useRef)(null),ef=(0,u.useTheme)();ea[1]!==ef.breakpoints?(_=ef.breakpoints.down("md"),ea[1]=ef.breakpoints,ea[2]=_):_=ea[2];let eh=(0,d.useMediaQuery)(_),{points:eg}=(0,r.useContext)(v.MissionContext),eb=!!eg,[ex,ey]=(()=>{let e,t,n,o,s,l,a,c,u,d,m,p,f,h=(0,i.c)(25),{playSound:g}=(0,y.useTimerSounds)();h[0]===Symbol.for("react.memo_cache_sentinel")?(e={timeRemaining:150,isRunning:!1},h[0]=e):e=h[0];let[b,x]=(0,r.useReducer)(S,e),v=(0,r.useRef)(null);h[1]!==g?(t=()=>{x("START"),g("start")},h[1]=g,h[2]=t):t=h[2];let j=t;h[3]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{x("PAUSE")},h[3]=n):n=h[3];let _=n;h[4]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{x("RESUME")},h[4]=o):o=h[4];let R=o;h[5]!==g?(s=()=>{x("STOP"),g("abort")},h[5]=g,h[6]=s):s=h[6];let w=s;h[7]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{x("RESET")},h[7]=l):l=h[7];let E=l;h[8]!==b.isRunning||h[9]!==b.timeRemaining?(a=()=>(b.isRunning&&b.timeRemaining>0?v.current=setInterval(()=>{x("TICK")},1e3):v.current&&(clearInterval(v.current),v.current=null),()=>{v.current&&clearInterval(v.current)}),c=[b.isRunning,b.timeRemaining],h[8]=b.isRunning,h[9]=b.timeRemaining,h[10]=a,h[11]=c):(a=h[10],c=h[11]),(0,r.useEffect)(a,c),h[12]!==g||h[13]!==b.timeRemaining?(u=()=>{30===b.timeRemaining&&g("endgame"),0===b.timeRemaining&&g("end")},d=[b.timeRemaining,g],h[12]=g,h[13]=b.timeRemaining,h[14]=u,h[15]=d):(u=h[14],d=h[15]),(0,r.useEffect)(u,d),h[16]!==b.isRunning||h[17]!==b.timeRemaining?(m={timeRemaining:b.timeRemaining,isRunning:b.isRunning,matchLength:150},h[16]=b.isRunning,h[17]=b.timeRemaining,h[18]=m):m=h[18];let B=m;h[19]!==j||h[20]!==w?(p={start:j,pause:_,resume:R,stop:w,reset:E},h[19]=j,h[20]=w,h[21]=p):p=h[21];let T=p;return h[22]!==T||h[23]!==B?(f=[B,T],h[22]=T,h[23]=B,h[24]=f):f=h[24],f})(),{timeRemaining:eS,isRunning:ev,matchLength:ej}=ex,e_=eS===ej,eR=ev&&e_,ew=0===eS,{start:eE,pause:eB,resume:eT,stop:eC,reset:e$}=ey;ea[3]!==e_||ea[4]!==ev||ea[5]!==eB||ea[6]!==eT||ea[7]!==eE?(R=()=>{ev?eB():e_?eE():eT()},ea[3]=e_,ea[4]=ev,ea[5]=eB,ea[6]=eT,ea[7]=eE,ea[8]=R):R=ea[8];let eI=R;ea[9]!==eh?(w=e=>{if(eh||e.target.closest("button")||!ep.current)return;let t=ep.current.getBoundingClientRect();em({isDragging:!0,startX:e.clientX,startY:e.clientY,offsetX:t.left,offsetY:t.top})},ea[9]=eh,ea[10]=w):w=ea[10];let ez=w;ea[11]!==ed.isDragging||ea[12]!==ed.offsetX||ea[13]!==ed.offsetY||ea[14]!==ed.startX||ea[15]!==ed.startY?(E=()=>{if(!ed.isDragging)return;let e=e=>{if(!ep.current)return;let t=e.clientX-ed.startX,i=e.clientY-ed.startY,r=ed.offsetX+t,n=ed.offsetY+i;ep.current.style.left=`${r}px`,ep.current.style.top=`${n}px`,ep.current.style.bottom="auto",ep.current.style.right="auto"},t=()=>{em(j)};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},ea[11]=ed.isDragging,ea[12]=ed.offsetX,ea[13]=ed.offsetY,ea[14]=ed.startX,ea[15]=ed.startY,ea[16]=E):E=ea[16],ea[17]!==ed?(B=[ed],ea[17]=ed,ea[18]=B):B=ea[18],(0,r.useEffect)(E,B),ea[19]!==ec||ea[20]!==eb?(T=!ec&&(0,t.jsx)(c.Fab,{sx:{position:"fixed",bottom:eb?{xs:90,md:24}:{xs:16,md:24},right:{xs:16,md:24},zIndex:1e3,bgcolor:"primary.main",color:"white",transition:"bottom 0.3s ease-in-out","&:hover":{bgcolor:"primary.dark"}},onClick:()=>eu(!0),children:(0,t.jsx)(m.default,{})}),ea[19]=ec,ea[20]=eb,ea[21]=T):T=ea[21],ea[22]!==eb?(C=eb?{xs:90,md:24}:{xs:16,md:24},ea[22]=eb,ea[23]=C):C=ea[23],ea[24]===Symbol.for("react.memo_cache_sentinel")?($={xs:16,md:24},ea[24]=$):$=ea[24],ea[25]===Symbol.for("react.memo_cache_sentinel")?(I={xs:"calc(100vw - 32px)",sm:320,md:360},ea[25]=I):I=ea[25];let ek=ed.isDragging?"none":"bottom 0.3s ease-in-out",eM=ed.isDragging?"grabbing":"grab";ea[26]!==ek||ea[27]!==eM||ea[28]!==C?(z={position:"fixed",bottom:C,right:$,zIndex:1001,width:I,borderRadius:3,overflow:"hidden",background:"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",transition:ek,cursor:eM,userSelect:"none"},ea[26]=ek,ea[27]=eM,ea[28]=C,ea[29]=z):z=ea[29];let eW=ed.isDragging?"grabbing":"grab";ea[30]===Symbol.for("react.memo_cache_sentinel")?(k={color:"grey.700"},ea[30]=k):k=ea[30];let eP=eh?"none":"flex";if(ea[31]!==eW||ea[32]!==eP?(M={position:"absolute",top:12,left:12,color:"grey.500",cursor:eW,"&:hover":k,display:eP,alignItems:"center"},ea[31]=eW,ea[32]=eP,ea[33]=M):M=ea[33],ea[34]===Symbol.for("react.memo_cache_sentinel")?(W=(0,t.jsx)(x.default,{fontSize:"small"}),ea[34]=W):W=ea[34],ea[35]!==ez||ea[36]!==M?(P=(0,t.jsx)(o.Stack,{onMouseDown:ez,sx:M,children:W}),ea[35]=ez,ea[36]=M,ea[37]=P):P=ea[37],ea[38]===Symbol.for("react.memo_cache_sentinel")?(A=()=>eu(!1),ea[38]=A):A=ea[38],ea[39]===Symbol.for("react.memo_cache_sentinel")?(D=(0,t.jsx)(l.IconButton,{onClick:A,sx:{position:"absolute",top:8,right:8,color:"grey.600","&:hover":{bgcolor:"grey.100"}},children:(0,t.jsx)(b.default,{})}),ea[39]=D):D=ea[39],ea[40]===Symbol.for("react.memo_cache_sentinel")?(F={px:3,py:2,textAlign:"center"},ea[40]=F):F=ea[40],ea[41]===Symbol.for("react.memo_cache_sentinel")?(G={fontWeight:700,color:"primary.main",fontSize:{xs:"2.5rem",sm:"3rem"},fontFamily:"monospace",letterSpacing:2,textShadow:"0 2px 4px rgba(0,0,0,0.1)"},ea[41]=G):G=ea[41],ea[42]!==eS){let e;e=Math.floor(eS/60),L=`${e}:${(eS%60).toString().padStart(2,"0")}`,ea[42]=eS,ea[43]=L}else L=ea[43];ea[44]!==L?(N=(0,t.jsx)(n.Typography,{variant:"h2",sx:G,children:L}),ea[44]=L,ea[45]=N):N=ea[45],ea[46]===Symbol.for("react.memo_cache_sentinel")?(q={p:1.5},ea[46]=q):q=ea[46];let eA=ew||eR,eD=ev?"warning.main":"success.main",eF=ev?"warning.dark":"success.dark";ea[47]!==eF?(X={bgcolor:eF},ea[47]=eF,ea[48]=X):X=ea[48],ea[49]===Symbol.for("react.memo_cache_sentinel")?(Y={bgcolor:"grey.300",color:"grey.500"},ea[49]=Y):Y=ea[49],ea[50]!==eD||ea[51]!==X?(O={bgcolor:eD,color:"white","&:hover":X,"&:disabled":Y},ea[50]=eD,ea[51]=X,ea[52]=O):O=ea[52],ea[53]!==ev?(U=ev?(0,t.jsx)(f.default,{}):(0,t.jsx)(p.default,{}),ea[53]=ev,ea[54]=U):U=ea[54],ea[55]!==eI||ea[56]!==eA||ea[57]!==O||ea[58]!==U?(V=(0,t.jsx)(l.IconButton,{onClick:eI,disabled:eA,sx:O,children:U}),ea[55]=eI,ea[56]=eA,ea[57]=O,ea[58]=U,ea[59]=V):V=ea[59],ea[60]!==eC?(K=()=>eC(),ea[60]=eC,ea[61]=K):K=ea[61];let eG=ew||!ev;ea[62]===Symbol.for("react.memo_cache_sentinel")?(H={bgcolor:"error.main",color:"white","&:hover":{bgcolor:"error.dark"},"&:disabled":{bgcolor:"grey.300",color:"grey.500"}},Q=(0,t.jsx)(h.default,{}),ea[62]=H,ea[63]=Q):(H=ea[62],Q=ea[63]),ea[64]!==K||ea[65]!==eG?(J=(0,t.jsx)(l.IconButton,{onClick:K,disabled:eG,sx:H,children:Q}),ea[64]=K,ea[65]=eG,ea[66]=J):J=ea[66],ea[67]!==e$?(Z=()=>e$(),ea[67]=e$,ea[68]=Z):Z=ea[68];let eL=ev||e_;return ea[69]===Symbol.for("react.memo_cache_sentinel")?(ee={bgcolor:"grey.600",color:"white","&:hover":{bgcolor:"grey.700"},"&:disabled":{bgcolor:"grey.300",color:"grey.500"}},et=(0,t.jsx)(g.default,{}),ea[69]=ee,ea[70]=et):(ee=ea[69],et=ea[70]),ea[71]!==Z||ea[72]!==eL?(ei=(0,t.jsx)(l.IconButton,{onClick:Z,disabled:eL,sx:ee,children:et}),ea[71]=Z,ea[72]=eL,ea[73]=ei):ei=ea[73],ea[74]!==V||ea[75]!==J||ea[76]!==ei?(er=(0,t.jsxs)(o.Stack,{direction:"row",spacing:1,justifyContent:"center",sx:q,children:[V,J,ei]}),ea[74]=V,ea[75]=J,ea[76]=ei,ea[77]=er):er=ea[77],ea[78]!==N||ea[79]!==er?(en=(0,t.jsxs)(o.Stack,{sx:F,alignItems:"center",justifyContent:"center",children:[N,er]}),ea[78]=N,ea[79]=er,ea[80]=en):en=ea[80],ea[81]!==ez||ea[82]!==z||ea[83]!==P||ea[84]!==en?(eo=(0,t.jsxs)(s.Paper,{ref:ep,onMouseDown:ez,elevation:8,sx:z,children:[P,D,en]}),ea[81]=ez,ea[82]=z,ea[83]=P,ea[84]=en,ea[85]=eo):eo=ea[85],ea[86]!==ec||ea[87]!==eo?(es=(0,t.jsx)(a.Slide,{direction:"up",in:ec,unmountOnExit:!0,children:eo}),ea[86]=ec,ea[87]=eo,ea[88]=es):es=ea[88],ea[89]!==es||ea[90]!==T?(el=(0,t.jsxs)(t.Fragment,{children:[T,es]}),ea[89]=es,ea[90]=T,ea[91]=el):el=ea[91],el}],769071)},521580,e=>{"use strict";var t=e.i(857727),i=e.i(500932),r=e.i(866796),n=e.i(563745);e.i(70847);var o=e.i(54385);e.i(445473);var s=e.i(967926),l=e.i(271645),a=e.i(657688),c=e.i(332963),u=e.i(936057),d=e.i(210557);let m={src:e.i(867696).default,width:138,height:138,blurWidth:0,blurHeight:0};var p=e.i(305508),p=p;e.i(247167);var f=e.i(207670),h=e.i(519130),g=e.i(940799),b=e.i(75149),x=e.i(594425),y=e.i(942196),S=e.i(540672),v=e.i(319727);function j(e){return(0,v.default)("MuiToggleButtonGroup",e)}let _=(0,S.default)("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]);var R=e.i(442117),w=e.i(770454),E=e.i(23703),B=e.i(843476);let T=(0,g.styled)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[{[`& .${_.grouped}`]:t.grouped},{[`& .${_.grouped}`]:t[`grouped${(0,y.default)(i.orientation)}`]},{[`& .${_.firstButton}`]:t.firstButton},{[`& .${_.lastButton}`]:t.lastButton},{[`& .${_.middleButton}`]:t.middleButton},t.root,"vertical"===i.orientation&&t.vertical,i.fullWidth&&t.fullWidth]}})((0,b.default)(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${_.grouped}`]:{[`&.${_.selected} + .${_.grouped}.${_.selected}`]:{borderTop:0,marginTop:0}},[`& .${_.firstButton},& .${_.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${_.lastButton},& .${_.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${_.lastButton}.${E.default.disabled},& .${_.middleButton}.${E.default.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${_.grouped}`]:{[`&.${_.selected} + .${_.grouped}.${_.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${_.firstButton},& .${_.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${_.lastButton},& .${_.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${_.lastButton}.${E.default.disabled},& .${_.middleButton}.${E.default.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),C=l.forwardRef(function(e,t){let i=(0,x.useDefaultProps)({props:e,name:"MuiToggleButtonGroup"}),{children:r,className:n,color:o="standard",disabled:s=!1,exclusive:a=!1,fullWidth:c=!1,onChange:u,orientation:d="horizontal",size:m="medium",value:p,...g}=i,b={...i,disabled:s,fullWidth:c,orientation:d,size:m},S=(e=>{let{classes:t,orientation:i,fullWidth:r,disabled:n}=e,o={root:["root",i,r&&"fullWidth"],grouped:["grouped",`grouped${(0,y.default)(i)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,h.default)(o,j,t)})(b),v=l.useCallback((e,t)=>{let i;if(!u)return;let r=p&&p.indexOf(t);p&&r>=0?(i=p.slice()).splice(r,1):i=p?p.concat(t):[t],u(e,i)},[u,p]),_=l.useCallback((e,t)=>{u&&u(e,p===t?null:t)},[u,p]),E=l.useMemo(()=>({className:S.grouped,onChange:a?_:v,value:p,size:m,fullWidth:c,color:o,disabled:s}),[S.grouped,a,_,v,p,m,c,o,s]),C=l.Children.toArray(r).filter(e=>l.isValidElement(e)),$=C.length;return(0,B.jsx)(T,{role:"group",className:(0,f.default)(S.root,n),ref:t,ownerState:b,...g,children:(0,B.jsx)(R.default.Provider,{value:E,children:C.map((e,t)=>{let i,r;return(0,B.jsx)(w.default.Provider,{value:(i=0===t,r=t===$-1,i&&r?"":i?S.firstButton:r?S.lastButton:S.middleButton),children:e},t)})})})});e.i(300502);var $=e.i(32824);e.i(632551);var I=e.i(687663);let z=e=>{let r,n,o,l,a,c,u=(0,i.c)(13),{value:d,onChange:m}=e,{yes:f,no:h}=(0,s.useScoresheetGeneralTranslations)();return u[0]!==m?(r=(e,t)=>null!==t&&m(t),u[0]=m,u[1]=r):r=u[1],u[2]===Symbol.for("react.memo_cache_sentinel")?(n={minWidth:"80px"},u[2]=n):n=u[2],u[3]!==h?(o=(0,t.jsx)(p.default,{value:!1,sx:n,children:h}),u[3]=h,u[4]=o):o=u[4],u[5]===Symbol.for("react.memo_cache_sentinel")?(l={minWidth:"80px"},u[5]=l):l=u[5],u[6]!==f?(a=(0,t.jsx)(p.default,{value:!0,sx:l,children:f}),u[6]=f,u[7]=a):a=u[7],u[8]!==r||u[9]!==o||u[10]!==a||u[11]!==d?(c=(0,t.jsxs)(C,{exclusive:!0,value:d,onChange:r,children:[o,a]}),u[8]=r,u[9]=o,u[10]=a,u[11]=d,u[12]=c):c=u[12],c},k=e=>{let n,o,l,a,c=(0,i.c)(16),{missionId:u,clauseIndex:d,value:m,onChange:f,values:h,maxWidth:g,multiSelect:b}=e,x=`${Math.min(80,g/h.length)}px`,{getLabel:y}=(0,s.useScoresheetClauseTranslations)(u,d);c[0]===Symbol.for("react.memo_cache_sentinel")?(n={flexWrap:"wrap"},c[0]=n):n=c[0];let S=!b;if(c[1]!==b||c[2]!==f?(o=(e,t)=>{null===t||b&&0===(0,I.ensureArray)(t).length||f(t)},c[1]=b,c[2]=f,c[3]=o):o=c[3],c[4]!==x||c[5]!==y||c[6]!==h){let e;c[8]!==x||c[9]!==y?(e=e=>(0,t.jsx)(p.default,{value:e,sx:{minWidth:x},children:(0,t.jsx)(r.Typography,{children:y(e)})},e),c[8]=x,c[9]=y,c[10]=e):e=c[10],l=h.map(e),c[4]=x,c[5]=y,c[6]=h,c[7]=l}else l=c[7];return c[11]!==S||c[12]!==o||c[13]!==l||c[14]!==m?(a=(0,t.jsx)(C,{sx:n,exclusive:S,value:m,onChange:o,children:l}),c[11]=S,c[12]=o,c[13]=l,c[14]=m,c[15]=a):a=c[15],a},M=e=>{let r,n,o=(0,i.c)(7),{min:s,max:l,value:a,onChange:c}=e;return o[0]!==c?(r=(e,t)=>{null!==t&&(e.preventDefault(),c(t))},o[0]=c,o[1]=r):r=o[1],o[2]!==l||o[3]!==s||o[4]!==r||o[5]!==a?(n=(0,t.jsx)($.NumberInput,{value:a,onChange:r,min:s,max:l,step:1}),o[2]=l,o[3]=s,o[4]=r,o[5]=a,o[6]=n):n=o[6],n},W=e=>{let n,o,a,c=(0,i.c)(17),{missionId:d,missionIndex:m,clauseIndex:p,clause:f,value:h,setValue:g,maxWidth:b}=e,x=void 0===b?550:b,{description:y}=(0,s.useScoresheetClauseTranslations)(d,p);return c[0]!==y?(n=(0,t.jsx)(u.Grid,{size:10,ml:3,children:(0,t.jsx)(r.Typography,{children:y})}),c[0]=y,c[1]=n):n=c[1],c[2]!==f.max||c[3]!==f.min||c[4]!==f.multiSelect||c[5]!==f.options||c[6]!==f.type||c[7]!==p||c[8]!==x||c[9]!==d||c[10]!==g||c[11]!==h?(o=(0,t.jsx)(u.Grid,{size:12,ml:3,children:"boolean"===f.type?(0,t.jsx)(z,{missionId:d,clauseIndex:p,value:h,onChange:g}):"enum"===f.type?(0,t.jsx)(k,{missionId:d,clauseIndex:p,value:h,onChange:g,values:f.options||[],multiSelect:!!f.multiSelect,maxWidth:x}):(0,t.jsx)(M,{missionId:d,clauseIndex:p,min:f.min||0,max:f.max||0,value:h,onChange:g})}),c[2]=f.max,c[3]=f.min,c[4]=f.multiSelect,c[5]=f.options,c[6]=f.type,c[7]=p,c[8]=x,c[9]=d,c[10]=g,c[11]=h,c[12]=o):o=c[12],c[13]!==m||c[14]!==n||c[15]!==o?(a=(0,t.jsxs)(l.default.Fragment,{children:[n,o]},m),c[13]=m,c[14]=n,c[15]=o,c[16]=a):a=c[16],a};var P=e.i(509739);let A=e=>{let o,p,f,h,g,b,x,y,S,v,j,_,R,w,E,B,T,C,$,I,z=(0,i.c)(59),{missionIndex:k,mission:M,src:A}=e,D=(0,d.useTheme)(),{mission:F,errors:G,updateClause:L}=(0,P.useMission)(k),{title:N,description:q,remarks:X,getError:Y}=(0,s.useScoresheetMissionTranslations)(M.id),[O,U]=(0,l.useState)(0);z[0]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{e&&U(e.offsetWidth)},z[0]=o):o=z[0];let V=o,K=M.id;z[1]===Symbol.for("react.memo_cache_sentinel")?(p={xs:12,md:8},z[1]=p):p=z[1];let H=G.length>0?D.palette.error.main:D.palette.primary.main;if(z[2]===Symbol.for("react.memo_cache_sentinel")?(f={color:"#FFF"},z[2]=f):f=z[2],z[3]!==M.id?(h=M.id.toUpperCase(),z[3]=M.id,z[4]=h):h=z[4],z[5]!==h?(g=(0,t.jsx)(r.Typography,{fontSize:"1.5rem",fontWeight:600,sx:f,children:h}),z[5]=h,z[6]=g):g=z[6],z[7]!==H||z[8]!==g?(b=(0,t.jsx)(u.Grid,{py:1,size:2,alignSelf:"flex-start",bgcolor:H,borderRadius:"6px 0 0 0",textAlign:"center",children:g}),z[7]=H,z[8]=g,z[9]=b):b=z[9],z[10]!==N?(x=(0,t.jsx)(r.Typography,{fontSize:"1.5rem",fontWeight:600,pl:4,children:N}),z[10]=N,z[11]=x):x=z[11],z[12]!==M.noEquipment?(y=M.noEquipment&&(0,t.jsx)(a.default,{src:m,width:35,height:35,alt:"No equipment constraint"}),z[12]=M.noEquipment,z[13]=y):y=z[13],z[14]!==y||z[15]!==x?(S=(0,t.jsx)(u.Grid,{size:10,pt:1,children:(0,t.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",children:[x,y]})}),z[14]=y,z[15]=x,z[16]=S):S=z[16],z[17]!==q?(v=q&&(0,t.jsx)(u.Grid,{size:12,children:(0,t.jsx)(r.Typography,{fontSize:"1rem",fontWeight:600,mt:1,ml:2,children:q})}),z[17]=q,z[18]=v):v=z[18],z[19]!==M.clauses||z[20]!==M.id||z[21]!==F?.clauses||z[22]!==k||z[23]!==O||z[24]!==L){let e;z[26]!==M.id||z[27]!==F?.clauses||z[28]!==k||z[29]!==O||z[30]!==L?(e=(e,i)=>{let r=F?.clauses[i].value??null;return(0,t.jsx)(W,{missionId:M.id,missionIndex:k,clauseIndex:i,clause:e,maxWidth:.9*O,value:r,setValue:e=>{L(i,e)}},i)},z[26]=M.id,z[27]=F?.clauses,z[28]=k,z[29]=O,z[30]=L,z[31]=e):e=z[31],j=M.clauses.map(e),z[19]=M.clauses,z[20]=M.id,z[21]=F?.clauses,z[22]=k,z[23]=O,z[24]=L,z[25]=j}else j=z[25];if(z[32]!==M.id||z[33]!==X){let e;z[35]!==M.id?(e=(e,i)=>(0,t.jsx)(r.Typography,{pl:3,fontSize:"1rem",color:"primary",sx:{fontStyle:"italic"},children:e},`${M.id}-remark-${i}`),z[35]=M.id,z[36]=e):e=z[36],_=X.map(e),z[32]=M.id,z[33]=X,z[34]=_}else _=z[34];z[37]!==_?(R=(0,t.jsx)(u.Grid,{size:12,mt:2,children:_}),z[37]=_,z[38]=R):R=z[38],z[39]!==G||z[40]!==Y?(w=G.length>0&&G.map(e=>(0,t.jsx)(u.Grid,{size:12,mt:2,children:(0,t.jsx)(r.Typography,{pl:3,fontSize:"1rem",color:"error",fontWeight:700,children:Y(e.id)})},e.id)),z[39]=G,z[40]=Y,z[41]=w):w=z[41],z[42]!==S||z[43]!==v||z[44]!==j||z[45]!==R||z[46]!==w||z[47]!==b?(E=(0,t.jsxs)(u.Grid,{container:!0,size:p,ref:V,children:[b,S,v,j,R,w]}),z[42]=S,z[43]=v,z[44]=j,z[45]=R,z[46]=w,z[47]=b,z[48]=E):E=z[48],z[49]===Symbol.for("react.memo_cache_sentinel")?(B={xs:0,md:4},T={xs:"none",md:"block"},z[49]=B,z[50]=T):(B=z[49],T=z[50]);let Q=`Mission photo ${M.id}`;return z[51]===Symbol.for("react.memo_cache_sentinel")?(C={width:"100%",height:"auto"},z[51]=C):C=z[51],z[52]!==A||z[53]!==Q?($=(0,t.jsx)(u.Grid,{borderRadius:8,p:2,size:B,display:T,children:(0,t.jsx)(a.default,{src:A,width:0,height:0,sizes:"100vw",alt:Q,style:C})}),z[52]=A,z[53]=Q,z[54]=$):$=z[54],z[55]!==M.id||z[56]!==E||z[57]!==$?(I=(0,t.jsxs)(u.Grid,{component:c.Paper,container:!0,pb:2,id:K,children:[E,$]}),z[55]=M.id,z[56]=E,z[57]=$,z[58]=I):I=z[58],I};function D(e,i){return(0,t.jsx)(A,{missionIndex:i,src:`/assets/scoresheet/missions/${e.id}.webp`,mission:e},e.id)}e.s(["ScoresheetForm",0,()=>{let e,l,a,c=(0,i.c)(8),{getError:u}=(0,s.useScoresheetTranslations)(),{errors:d}=(0,P.useScoresheetValidator)();if(c[0]===Symbol.for("react.memo_cache_sentinel")?(e=o.scoresheet.missions.map(D),c[0]=e):e=c[0],c[1]!==d||c[2]!==u){let e;c[4]!==u?(e=(e,i)=>(0,t.jsx)(r.Typography,{color:"error",fontWeight:600,children:u(e.id)},i),c[4]=u,c[5]=e):e=c[5],l=d.map(e),c[1]=d,c[2]=u,c[3]=l}else l=c[3];return c[6]!==l?(a=(0,t.jsxs)(n.Stack,{spacing:4,mt:4,mb:16,children:[e,l]}),c[6]=l,c[7]=a):a=c[7],a}],521580)}]);